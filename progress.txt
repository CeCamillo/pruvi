# RALPH Progress Log
# This file tracks what RALPH has done across sessions.
# Format: [DATE] Issue #N — Brief description of what was implemented.

[2026-02-25] Scaffolding — Project set up with domain schema, Redis, BullMQ, Vitest, quality gates, RALPH system files.
[2026-03-01] Issue #28 Sub-task A — neverthrow setup, SM-2 algorithm (9 tests), dev auth middleware (X-User-Id header → user upsert → request.userId).
[2026-03-01] Issue #28 Sub-task B — Seed script: 200 ENEM questions across 5 subjects (40 each), composite index on (subject_id, difficulty), pnpm db:seed command. PR #33.
[2026-03-01] Issue #28 Sub-task C — Review service: reviews.repository.ts (getQuestion, getLatestReviewLog, insertReviewLog), reviews.service.ts (recordAnswer with SM-2 integration), reviews.routes.ts (POST /questions/:id/answer). 5 tests. PR #34.
[2026-03-01] Issue #28 Sub-task D — Session lifecycle: startSession (resume or create), completeSession (ForbiddenError/ConflictError guards, BullMQ job), getTodayInfo. Routes: POST /sessions/start, POST /sessions/:id/complete, GET /sessions/today. session-prep.queue.ts + placeholder worker. 7 tests. PR #35.
[2026-03-01] Issue #28 Sub-task E1 — Frontend foundation: GET /subjects endpoint (subjects.repository + routes, 2 tests), sessions.ts contracts (publicQuestionSchema, startSessionResponseSchema), native deps (zustand, @tanstack/react-query, @shopify/flash-list), api.ts (fetch-based client), session-store.ts (Zustand), quiz.reducer.ts (state machine: answering|checking|feedback|complete, 9 tests). PR #36.
[2026-03-01] Issue #28 Sub-task E2 — 4 screens: (app)/_layout.tsx (QueryClientProvider), Dashboard (FlashList 2-col, staleTime:Infinity), subjects/[id].tsx (startSession→Zustand→/quiz), quiz.tsx (useReducer+Reanimated progress bar, checking→API→SUBMIT_ANSWER→feedback), completion.tsx (Reanimated stagger fade+slide, invalidateQueries). PR #37.
